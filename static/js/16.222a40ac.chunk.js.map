{"version":3,"sources":["containers/Login.js","components/Loader.js","styles/CreateProfile.module.css"],"names":["Login","props","useState","email","setEmail","password","setPassword","loading","setLoading","Firebase","setFirebase","history","useHistory","useEffect","sessionStorage","removeItem","firebase","then","className","styles","wrapper","loginBox","title","value","onChangeText","event","target","onClick","setItem","auth","signInWithEmailAndPassword","data","user","refreshToken","firestore","collection","where","get","querySnapshot","size","forEach","doc","JSON","stringify","name","id","push","catch","error","alert","message","Spin","keyframes","Load","styled","div","Loader","style","module","exports"],"mappings":"0MAwEeA,UA/DD,SAACC,GAAW,IAAD,EACGC,qBADH,mBAChBC,EADgB,KACTC,EADS,OAESF,qBAFT,mBAEhBG,EAFgB,KAENC,EAFM,OAGOJ,oBAAS,GAHhB,mBAGhBK,EAHgB,KAGPC,EAHO,OAISN,mBAAS,MAJlB,mBAIhBO,EAJgB,KAINC,EAJM,KAKjBC,EAAUC,cAChBC,qBAAU,WACRC,eAAeC,WAAW,SAC1BC,IAASC,MAAK,SAACD,GAAD,OAAcN,EAAYM,QACvC,IAgCH,OACE,yBAAKE,UAAWC,IAAOC,SACrB,yBAAKF,UAAWC,IAAOE,UACrB,wCACA,kBAAC,IAAD,CACEC,MAAM,QACNC,MAAOpB,EACPqB,aAAc,SAACC,GAAD,OAAWrB,EAASqB,EAAMC,OAAOH,UAEjD,kBAAC,IAAD,CACED,MAAM,WACNC,MAAOlB,EACPmB,aAAc,SAACC,GAAD,OAAWnB,EAAYmB,EAAMC,OAAOH,UAEpD,kBAAC,IAAD,CAAQD,MAAOf,EAAU,GAAK,QAASoB,QA7CxB,WACnBnB,GAAW,GACXM,eAAec,QAAQ,QAASzB,GAChCM,EAASoB,OACNC,2BAA2B3B,EAAOE,GAClCY,MAAK,SAACc,GACLjB,eAAec,QAAQ,QAASG,EAAKC,KAAKC,cAC1CxB,EAASyB,YACNC,WAAW,aACXC,MAAM,QAAS,KAAMjC,GACrBkC,MACApB,MAAK,SAACqB,GACDA,EAAcC,MAChBD,EAAcE,SAAQ,SAACC,GACrB3B,eAAec,QACb,OACAc,KAAKC,UAAL,aAAiBC,KAAMH,EAAII,IAAOJ,EAAIV,aAG1CpB,EAAQmC,KAAK,eAEbnC,EAAQmC,KAAK,cAEftC,GAAW,SAGhBuC,OAAM,SAACC,GACNC,MAAMD,EAAME,SACZ1C,GAAW,QAkBRD,EAAU,kBAAC,IAAD,MAAa,U,kdC9DlC,IAAM4C,EAAOC,YAAH,KAKJC,EAAOC,IAAOC,IAAV,IAMKJ,GAKAK,IAFA,SAACvD,GAAD,OAAW,kBAACoD,EAAD,CAAMI,MAAOxD,EAAMwD,U,mBChB7CC,EAAOC,QAAU,CAAC,QAAU,+BAA+B,SAAW","file":"static/js/16.222a40ac.chunk.js","sourcesContent":["import React, { useState } from \"react\";\nimport styles from \"../styles/CreateProfile.module.css\";\nimport Input from \"../components/Input\";\nimport Button from \"../components/PrimaryButton\";\nimport firebase from \"../helpers/firebase\";\nimport { useHistory } from \"react-router-dom\";\nimport { useEffect } from \"react\";\nimport Loader from \"../components/Loader\";\n\nconst Login = (props) => {\n  const [email, setEmail] = useState();\n  const [password, setPassword] = useState();\n  const [loading, setLoading] = useState(false);\n  const [Firebase, setFirebase] = useState(null);\n  const history = useHistory();\n  useEffect(() => {\n    sessionStorage.removeItem(\"token\");\n    firebase.then((firebase) => setFirebase(firebase));\n  }, []);\n  const loginHandler = () => {\n    setLoading(true);\n    sessionStorage.setItem(\"email\", email);\n    Firebase.auth()\n      .signInWithEmailAndPassword(email, password)\n      .then((data) => {\n        sessionStorage.setItem(\"token\", data.user.refreshToken);\n        Firebase.firestore()\n          .collection(\"safespace\")\n          .where(\"email\", \"==\", email)\n          .get()\n          .then((querySnapshot) => {\n            if (querySnapshot.size) {\n              querySnapshot.forEach((doc) => {\n                sessionStorage.setItem(\n                  \"data\",\n                  JSON.stringify({ name: doc.id, ...doc.data() })\n                );\n              });\n              history.push(\"/safespace\");\n            } else {\n              history.push(\"/entername\");\n            }\n            setLoading(false);\n          });\n      })\n      .catch((error) => {\n        alert(error.message);\n        setLoading(false);\n      });\n  };\n  return (\n    <div className={styles.wrapper}>\n      <div className={styles.loginBox}>\n        <h1>Findhope</h1>\n        <Input\n          title=\"Email\"\n          value={email}\n          onChangeText={(event) => setEmail(event.target.value)}\n        />\n        <Input\n          title=\"Password\"\n          value={password}\n          onChangeText={(event) => setPassword(event.target.value)}\n        />\n        <Button title={loading ? \"\" : \"Login\"} onClick={loginHandler}>\n          {loading ? <Loader /> : null}\n        </Button>\n      </div>\n    </div>\n  );\n};\n\nexport default Login;\n","import React from \"react\";\nimport styled, { keyframes } from \"styled-components\";\n\nconst Spin = keyframes`\n0% { transform: rotate(0deg); }\n100% { transform: rotate(360deg); }\n`;\n\nconst Load = styled.div`\n  border: 6px solid #f3f3f3; /* Light grey */\n  border-top: 6px solid #3498db; /* Blue */\n  border-radius: 50%;\n  width: 30px;\n  height: 30px;\n  animation: ${Spin} 2s linear infinite;\n`;\n\nconst Loader = (props) => <Load style={props.style} />;\n\nexport default Loader;\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"CreateProfile_wrapper__2jkHX\",\"loginBox\":\"CreateProfile_loginBox__1vb9P\"};"],"sourceRoot":""}