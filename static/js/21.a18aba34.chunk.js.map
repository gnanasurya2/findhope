{"version":3,"sources":["containers/Login.js","styles/CreateProfile.module.css"],"names":["Login","props","useState","email","setEmail","password","setPassword","history","useHistory","useEffect","sessionStorage","removeItem","className","styles","wrapper","loginBox","title","value","onChangeText","event","target","onClick","setItem","firebase","auth","signInWithEmailAndPassword","then","data","user","refreshToken","firestore","collection","where","get","querySnapshot","size","forEach","doc","JSON","stringify","name","id","push","catch","error","alert","message","module","exports"],"mappings":"kMA+DeA,UAvDD,SAACC,GAAW,IAAD,EACGC,qBADH,mBAChBC,EADgB,KACTC,EADS,OAESF,qBAFT,mBAEhBG,EAFgB,KAENC,EAFM,KAGjBC,EAAUC,cAChBC,qBAAU,WACRC,eAAeC,WAAW,WACzB,IA6BH,OACE,yBAAKC,UAAWC,IAAOC,SACrB,yBAAKF,UAAWC,IAAOE,UACrB,wCACA,kBAAC,IAAD,CACEC,MAAM,QACNC,MAAOd,EACPe,aAAc,SAACC,GAAD,OAAWf,EAASe,EAAMC,OAAOH,UAEjD,kBAAC,IAAD,CACED,MAAM,WACNC,MAAOZ,EACPa,aAAc,SAACC,GAAD,OAAWb,EAAYa,EAAMC,OAAOH,UAEpD,kBAAC,IAAD,CAAQD,MAAM,QAAQK,QA1CP,WACnBX,eAAeY,QAAQ,QAASnB,GAChCoB,IACGC,OACAC,2BAA2BtB,EAAOE,GAClCqB,MAAK,SAACC,GACLjB,eAAeY,QAAQ,QAASK,EAAKC,KAAKC,cAC1CN,IACGO,YACAC,WAAW,aACXC,MAAM,QAAS,KAAM7B,GACrB8B,MACAP,MAAK,SAACQ,GACDA,EAAcC,MAChBD,EAAcE,SAAQ,SAACC,GACrB3B,eAAeY,QACb,OACAgB,KAAKC,UAAL,aAAiBC,KAAMH,EAAII,IAAOJ,EAAIV,aAG1CpB,EAAQmC,KAAK,eAEbnC,EAAQmC,KAAK,oBAIpBC,OAAM,SAACC,GAAD,OAAWC,MAAMD,EAAME,mB,mBCxCpCC,EAAOC,QAAU,CAAC,QAAU,+BAA+B,SAAW","file":"static/js/21.a18aba34.chunk.js","sourcesContent":["import React, { useState } from \"react\";\nimport styles from \"../styles/CreateProfile.module.css\";\nimport Input from \"../components/Input\";\nimport Button from \"../components/PrimaryButton\";\nimport firebase from \"../helpers/firebase\";\nimport { useHistory } from \"react-router-dom\";\nimport { useEffect } from \"react\";\n\nconst Login = (props) => {\n  const [email, setEmail] = useState();\n  const [password, setPassword] = useState();\n  const history = useHistory();\n  useEffect(() => {\n    sessionStorage.removeItem(\"token\");\n  }, []);\n  const loginHandler = () => {\n    sessionStorage.setItem(\"email\", email);\n    firebase\n      .auth()\n      .signInWithEmailAndPassword(email, password)\n      .then((data) => {\n        sessionStorage.setItem(\"token\", data.user.refreshToken);\n        firebase\n          .firestore()\n          .collection(\"safespace\")\n          .where(\"email\", \"==\", email)\n          .get()\n          .then((querySnapshot) => {\n            if (querySnapshot.size) {\n              querySnapshot.forEach((doc) => {\n                sessionStorage.setItem(\n                  \"data\",\n                  JSON.stringify({ name: doc.id, ...doc.data() })\n                );\n              });\n              history.push(\"/safespace\");\n            } else {\n              history.push(\"/entername\");\n            }\n          });\n      })\n      .catch((error) => alert(error.message));\n  };\n  return (\n    <div className={styles.wrapper}>\n      <div className={styles.loginBox}>\n        <h1>Findhope</h1>\n        <Input\n          title=\"Email\"\n          value={email}\n          onChangeText={(event) => setEmail(event.target.value)}\n        />\n        <Input\n          title=\"Password\"\n          value={password}\n          onChangeText={(event) => setPassword(event.target.value)}\n        />\n        <Button title=\"Login\" onClick={loginHandler} />\n      </div>\n    </div>\n  );\n};\n\nexport default Login;\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"CreateProfile_wrapper__2jkHX\",\"loginBox\":\"CreateProfile_loginBox__1vb9P\"};"],"sourceRoot":""}