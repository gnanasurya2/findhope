{"version":3,"sources":["containers/Login.js","components/Loader.js","styles/CreateProfile.module.css"],"names":["Login","props","useState","email","setEmail","password","setPassword","loading","setLoading","history","useHistory","useEffect","sessionStorage","removeItem","className","styles","wrapper","loginBox","title","value","onChangeText","event","target","onClick","setItem","firebase","auth","signInWithEmailAndPassword","then","data","user","refreshToken","firestore","collection","where","get","querySnapshot","size","forEach","doc","JSON","stringify","name","id","push","catch","error","alert","message","Spin","keyframes","Load","styled","div","Loader","style","module","exports"],"mappings":"0MAyEeA,UAhED,SAACC,GAAW,IAAD,EACGC,qBADH,mBAChBC,EADgB,KACTC,EADS,OAESF,qBAFT,mBAEhBG,EAFgB,KAENC,EAFM,OAGOJ,oBAAS,GAHhB,mBAGhBK,EAHgB,KAGPC,EAHO,KAKjBC,EAAUC,cAChBC,qBAAU,WACRC,eAAeC,WAAW,WACzB,IAkCH,OACE,yBAAKC,UAAWC,IAAOC,SACrB,yBAAKF,UAAWC,IAAOE,UACrB,wCACA,kBAAC,IAAD,CACEC,MAAM,QACNC,MAAOhB,EACPiB,aAAc,SAACC,GAAD,OAAWjB,EAASiB,EAAMC,OAAOH,UAEjD,kBAAC,IAAD,CACED,MAAM,WACNC,MAAOd,EACPe,aAAc,SAACC,GAAD,OAAWf,EAAYe,EAAMC,OAAOH,UAEpD,kBAAC,IAAD,CAAQD,MAAOX,EAAU,GAAK,QAASgB,QA/CxB,WACnBf,GAAW,GACXI,eAAeY,QAAQ,QAASrB,GAChCsB,IACGC,OACAC,2BAA2BxB,EAAOE,GAClCuB,MAAK,SAACC,GACLjB,eAAeY,QAAQ,QAASK,EAAKC,KAAKC,cAC1CN,IACGO,YACAC,WAAW,aACXC,MAAM,QAAS,KAAM/B,GACrBgC,MACAP,MAAK,SAACQ,GACDA,EAAcC,MAChBD,EAAcE,SAAQ,SAACC,GACrB3B,eAAeY,QACb,OACAgB,KAAKC,UAAL,aAAiBC,KAAMH,EAAII,IAAOJ,EAAIV,aAG1CpB,EAAQmC,KAAK,eAEbnC,EAAQmC,KAAK,cAEfpC,GAAW,SAGhBqC,OAAM,SAACC,GACNC,MAAMD,EAAME,SACZxC,GAAW,QAkBRD,EAAU,kBAAC,IAAD,MAAa,U,kdC/DlC,IAAM0C,EAAOC,YAAH,KAKJC,EAAOC,IAAOC,IAAV,IAMKJ,GAKAK,IAFA,SAACrD,GAAD,OAAW,kBAACkD,EAAD,CAAMI,MAAOtD,EAAMsD,U,mBChB7CC,EAAOC,QAAU,CAAC,QAAU,+BAA+B,SAAW","file":"static/js/15.c299c13f.chunk.js","sourcesContent":["import React, { useState } from \"react\";\nimport styles from \"../styles/CreateProfile.module.css\";\nimport Input from \"../components/Input\";\nimport Button from \"../components/PrimaryButton\";\nimport firebase from \"../helpers/firebase\";\nimport { useHistory } from \"react-router-dom\";\nimport { useEffect } from \"react\";\nimport Loader from \"../components/Loader\";\n\nconst Login = (props) => {\n  const [email, setEmail] = useState();\n  const [password, setPassword] = useState();\n  const [loading, setLoading] = useState(false);\n\n  const history = useHistory();\n  useEffect(() => {\n    sessionStorage.removeItem(\"token\");\n  }, []);\n  const loginHandler = () => {\n    setLoading(true);\n    sessionStorage.setItem(\"email\", email);\n    firebase\n      .auth()\n      .signInWithEmailAndPassword(email, password)\n      .then((data) => {\n        sessionStorage.setItem(\"token\", data.user.refreshToken);\n        firebase\n          .firestore()\n          .collection(\"safespace\")\n          .where(\"email\", \"==\", email)\n          .get()\n          .then((querySnapshot) => {\n            if (querySnapshot.size) {\n              querySnapshot.forEach((doc) => {\n                sessionStorage.setItem(\n                  \"data\",\n                  JSON.stringify({ name: doc.id, ...doc.data() })\n                );\n              });\n              history.push(\"/safespace\");\n            } else {\n              history.push(\"/entername\");\n            }\n            setLoading(false);\n          });\n      })\n      .catch((error) => {\n        alert(error.message);\n        setLoading(false);\n      });\n  };\n  return (\n    <div className={styles.wrapper}>\n      <div className={styles.loginBox}>\n        <h1>Findhope</h1>\n        <Input\n          title=\"Email\"\n          value={email}\n          onChangeText={(event) => setEmail(event.target.value)}\n        />\n        <Input\n          title=\"Password\"\n          value={password}\n          onChangeText={(event) => setPassword(event.target.value)}\n        />\n        <Button title={loading ? \"\" : \"Login\"} onClick={loginHandler}>\n          {loading ? <Loader /> : null}\n        </Button>\n      </div>\n    </div>\n  );\n};\n\nexport default Login;\n","import React from \"react\";\nimport styled, { keyframes } from \"styled-components\";\n\nconst Spin = keyframes`\n0% { transform: rotate(0deg); }\n100% { transform: rotate(360deg); }\n`;\n\nconst Load = styled.div`\n  border: 6px solid #f3f3f3; /* Light grey */\n  border-top: 6px solid #3498db; /* Blue */\n  border-radius: 50%;\n  width: 30px;\n  height: 30px;\n  animation: ${Spin} 2s linear infinite;\n`;\n\nconst Loader = (props) => <Load style={props.style} />;\n\nexport default Loader;\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"CreateProfile_wrapper__2jkHX\",\"loginBox\":\"CreateProfile_loginBox__1vb9P\"};"],"sourceRoot":""}